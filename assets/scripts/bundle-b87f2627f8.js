!function e(t,a,n){function r(i,s){if(!a[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=a[i]={exports:{}};t[i][0].call(c.exports,function(e){var a=t[i][1][e];return r(a?a:e)},c,c.exports,e,t,a,n)}return a[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/CategoryFilter.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("preact"),r=e("../utils.js"),o=o||PAGE_LANG,i=function(e){var t=e.categories,a=e.checked,i=e.onClick,s=[],u=new Set(a),l=function(e){var a=u.has(e),l=(0,n.h)("li",{"class":"list-item-filter list-item-filter-"+e},(0,n.h)("label",{},r.categoryMap[o][e]," ",(0,n.h)("span",{"class":"filter-number"},"("+t[e]+")"),(0,n.h)("input",{"class":"checkbox",type:"checkbox",checked:a,name:e,onClick:function(){return i(e)}})));s.push(l)};for(var c in t)l(c);return(0,n.h)("div",{"class":"wrapper-filter-item"},(0,n.h)("fieldset",{},(0,n.h)("label",{"class":"header-filter"},labels["category-title"]),(0,n.h)("ul",{"class":"list-type-none filter-categories"},s)))};a["default"]=i},{"../utils.js":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/utils.js",preact:"preact"}],"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/Dataset.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=e("preact"),c=e("../utils"),d=e("moment-jalaali"),p=n(d);e("whatwg-fetch");var h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;e.id=e.props.id,e.lang=e.props.lang,e.APIUrl="/catalog/datasets/"+this.id+".json",fetch(e.APIUrl).then(function(e){return e.json()}).then(function(t){e.setState((0,c.transformDatasetFromAPI)(t,e.lang))})["catch"](function(e){console.error("Could not fetch data",e)})}},{key:"render",value:function(e,t){var a=t.category,n=t.title,o=t.description,i=t.format,s=t.source,u=t.source_url,d=t.updated_at,h=t.period,f=t.indexed_at,m=t.license,v=t.url,y=t.maintainer,g=t.frequency,b=t.keywords,w=t.name;if(r(e),n){var _=a.map(function(e){return c.categoryMap[PAGE_LANG][e]}).join(", "),j=(0,p["default"])(d).format("MMM. D, YYYY"),k=(0,p["default"])(f).format("MMM. D, YYYY");"fa"==PAGE_LANG&&(j=(0,p["default"])(d).format("jYYYY/jM/jD"),k=(0,p["default"])(f).format("jYYYY/jM/jD")),document.title=n;var E=(0,l.h)("li"),P=(0,l.h)("li");return h.length>0&&(E=(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-dates"]),(0,l.h)("dd",{"class":"metadata-item"},h[0]+" - "+h[1]))),g.length>0&&(P=(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-frequency"]),(0,l.h)("span",{"class":"metadata-item"},g))),(0,l.h)("div",{"class":a[0]+" content-dataset"},(0,l.h)("span",{"class":"type-category type-category-lg"},_),(0,l.h)("h1",{},n),(0,l.h)("p",{"class":"description-md"},o),(0,l.h)("ul",{"class":"metadata-lg list-type-none"},(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-source"]),(0,l.h)("span",{"class":"metadata-item metadata-descript"},(0,l.h)("a",{href:u},s))),(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-id"]),(0,l.h)("span",{"class":"metadata-item metadata-descript"},w)),(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-keywords"]),(0,l.h)("span",{"class":"metadata-item metadata-item-keywords metadata-descript"},b)),E,(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-maintainer"]),(0,l.h)("span",{"class":"metadata-item metadata-descript"},y)),P,(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-license"]),(0,l.h)("span",{"class":"metadata-item metadata-descript"},m)),(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-added"]),(0,l.h)("span",{"class":"metadata-item metadata-descript"},k)),(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-formats"]),(0,l.h)("span",{"class":"metadata-item metadata-descript"},(0,l.h)("span",{"class":"element-file-type element-file-type-lg"},i))),(0,l.h)("li",{},(0,l.h)("span",{"class":"metadata-item metadata-item-header"},lang["dataset-updated"]),(0,l.h)("span",{"class":"metadata-item metadata-descript"},j))),(0,l.h)("a",{"class":"button",href:v,download:v.substring(v.lastIndexOf("/")+1)},lang["button-download"]))}return(0,l.h)("div")}}]),t}(l.Component);t.exports=h},{"../utils":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/utils.js","moment-jalaali":"moment-jalaali",preact:"preact","whatwg-fetch":"whatwg-fetch"}],"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/DatasetList.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){e.preventDefault();var t=document.querySelector(".sidebar").classList,a=document.querySelector("body").classList;t.contains("open")||(e.stopPropagation(),t.add("open")),a.contains("filter-overlay")||(e.stopPropagation(),a.add("filter-overlay"))}function l(e){e.preventDefault(),document.querySelector(".sidebar").classList.remove("open"),document.querySelector("body").classList.remove("filter-overlay")}var c=function(){function e(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(u){r=!0,o=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=e("preact"),h=e("../utils");e("whatwg-fetch");var f=e("moment"),m=n(f),v=e("./CategoryFilter"),y=n(v),g=e("./DateFilter"),b=n(g),w=e("./SortFilter"),_=n(w),j=e("./Listing"),k=n(j),E=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.transformDatasets=e.transformDatasets.bind(e),e.onCheckCategory=e.onCheckCategory.bind(e),e.onSelectDate=e.onSelectDate.bind(e),e.onSort=e.onSort.bind(e),e.mobileFilterOpen=e.mobileFilterOpen.bind(e),e.mobileFilterCancel=e.mobileFilterCancel.bind(e),e.APIUrl="http://iranopendata.org/catalog/index.json",e}return s(t,e),d(t,[{key:"transformDatasets",value:function(e){return e.map(function(e){return(0,h.transformDatasetFromIndex)(e)})}},{key:"onCheckCategory",value:function(e){var t=this,a=new Set(t.state.checked||[]);a.has(e)?a["delete"](e):a.add(e),t.setState({checked:Array.from(a)})}},{key:"onSelectDate",value:function(e,t){var a=this,n=a.state.selectedDates;n[e]=t,a.setState({selectedDates:n})}},{key:"onSort",value:function(e){var t=this;t.setState({sort:e})}},{key:"applyFilters",value:function(){var e=this,t=e.state.fromAPI,a=new Set(e.state.checked);a.size>0&&(t=t.filter(function(e){return e.category.reduce(function(e,t){return a.has(t)||e},!1)}));var n=e.state.selectedDates,r=n.min,o=n.max;return t=t.filter(function(e){return!(e.period.length>0)||e.period[0]<=o&&e.period[1]>=r}),t.sort(function(t,a){if("alphabetic"==e.state.sort){if(t.title<a.title)return-1;if(t.title>a.title)return 1;if(t.title==a.title)return 0}else{if((0,m["default"])(t.updated_at).isAfter((0,m["default"])(a.updated_at)))return-1;if((0,m["default"])(t.updated_at).isBefore((0,m["default"])(a.updated_at)))return 1;if((0,m["default"])(t.updated_at).isSame((0,m["default"])(a.updated_at)))return 0}return 0}),t}},{key:"componentWillMount",value:function(){var e=this;fetch(e.APIUrl).then(function(e){return e.json()}).then(function(t){var a=e.transformDatasets(t.datasets),n=a.filter(function(e){return e.period.length>0}),r={min:n[0].period[0],max:n[0].period[1]};n.forEach(function(e){var t=void 0,a=void 0,n=c(e.period,2);t=n[0],a=n[1],t<r.min&&(r.min=t),a>r.max&&(r.max=a)}),e.setState({fromAPI:a,checked:[],selectedDates:r,minMaxDates:Object.assign({},r),sort:"update"})})["catch"](function(e){console.error("Could not fetch data",e)})}},{key:"mobileFilterOpen",value:function(e){e.preventDefault();var t=this;t.tempState=Object.assign({},t.state),u(e)}},{key:"mobileFilterCancel",value:function(e){e.preventDefault();var t=this;t.setState(t.tempState),l(e)}},{key:"render",value:function(e,t){var a=t.fromAPI,n=t.checked,o=t.selectedDates,i=t.minMaxDates;r(e);var s=this;if(a){var u=s.applyFilters(),c=u.map(function(e){return(0,p.h)(k["default"],e)}),d=a.map(function(e){return e.category}).reduce(function(e,t){return e.concat(t)}).sort(),h={};d.forEach(function(e){h[e]?h[e]+=1:h[e]=1});var f=(c.length,[labels.showing,c.length,labels.datasets]),m=f.join(" ");return"fa"===PAGE_LANG&&(m=f.reverse().join(" ")),(0,p.h)("div",{"class":"content-internal wrapper-datasets"},(0,p.h)("a",{"class":"button button-filter",onclick:s.mobileFilterOpen,href:""},labels["filter-title"]),(0,p.h)("div",{"class":"sidebar"},(0,p.h)("div",{"class":"icon-close",onclick:s.mobileFilterCancel},labels.Close),(0,p.h)("h5",{},labels["filter-title"]),(0,p.h)("form",{},(0,p.h)(y["default"],{categories:h,checked:n,onClick:s.onCheckCategory}),(0,p.h)(b["default"],{minMaxDates:i,selectedDates:o,onSelectDate:s.onSelectDate})),(0,p.h)("div",{"class":"filter-buttons-mobile"},(0,p.h)("a",{"class":"button button-filter-apply",href:"",onclick:l},labels["button-apply"]),(0,p.h)("a",{"class":"button button-grey button-filter-cancel",href:"",onclick:s.mobileFilterCancel},labels["button-cancel"]))),(0,p.h)("div",{"class":"content-sidebar"},(0,p.h)("h6",{"class":"content-sidebar-header"},m),(0,p.h)(_["default"],{sort:s.state.sort,onSort:s.onSort}),(0,p.h)("ul",{"class":"list-type-none"},c)))}return(0,p.h)("div",{"class":"content=sidebar"})}}]),t}(p.Component);t.exports=E},{"../utils":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/utils.js","./CategoryFilter":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/CategoryFilter.js","./DateFilter":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/DateFilter.js","./Listing":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/Listing.js","./SortFilter":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/SortFilter.js",moment:"moment",preact:"preact","whatwg-fetch":"whatwg-fetch"}],"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/DateFilter.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("preact");a["default"]=function(e){for(var t=e.minMaxDates,a=e.selectedDates,r=e.onSelectDate,o=[],i=[],s=a.min,u=a.max,l=t.min,c=t.max,d=l;d<=c;d++)d<u&&o.push((0,n.h)("option",{value:d,key:d},d)),d>s&&i.push((0,n.h)("option",{value:d,key:d},d));return(0,n.h)("div",{"class":"wrapper-filter-item"},(0,n.h)("fieldset",{},(0,n.h)("label",{"class":"header-filter"},labels["date-title"]),(0,n.h)("div",{"class":"wrapper-dropdown-sort wrapper-dropdown-sort-sm"},(0,n.h)("select",{"class":"dropdown-sm dropdown-sm-date",onChange:function(e){return e.preventDefault(),r("min",e.target.value)},value:s},o)),(0,n.h)("span",{},labels.to),(0,n.h)("div",{"class":"wrapper-dropdown-sort wrapper-dropdown-sort-sm"},(0,n.h)("select",{"class":"dropdown-sm dropdown-sm-date",onChange:function(e){return e.preventDefault(),r("max",e.target.value)},value:u},i))))}},{preact:"preact"}],"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/FeaturedList.js":[function(e,t,a){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=e("preact"),l=e("../utils"),c=c||PAGE_LANG,d=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.APIUrl="/catalog/index.json",e}return i(t,e),s(t,[{key:"componentWillMount",value:function(){var e=featured,t=e.featured1,a=e.featured2,n=this;fetch(n.APIUrl).then(function(e){return e.json()}).then(function(e){return e.datasets.map(function(e){return(0,l.transformDatasetFromIndex)(e)})}).then(function(e){var r=e.filter(function(e){return e.name===t||e.name===a});2==r.length&&n.setState({featured1:r[0],featured2:r[1]})})}},{key:"render",value:function(e,t){var a=t.featured1,r=t.featured2;if(n(e),a&&r){var o=a.category.map(function(e){return l.categoryMap[PAGE_LANG][e]}).join(", "),i=r.category.map(function(e){return l.categoryMap[PAGE_LANG][e]}).join(", ");return(0,u.h)("ul",{"class":"list-type-none"},(0,u.h)("li",{},(0,u.h)("span",{"class":"type-category"},o),(0,u.h)("h5",{"class":"header-with-description"},(0,u.h)("a",{"class":"text-link",href:"/"+PAGE_LANG+"/datasets/"+a.name},a.title)),(0,u.h)("dl",{"class":"metadata"},(0,u.h)("dt",{"class":"metadata-title"},c["featured-source"])," ",(0,u.h)("dd",{"class":"metadata-description"},a.source)),(0,u.h)("p",{},a.description.slice(0,140)+"...")),(0,u.h)("li",{},(0,u.h)("span",{"class":"type-category"},i),(0,u.h)("h5",{"class":"header-with-description"},(0,u.h)("a",{"class":"text-link",href:"/"+PAGE_LANG+"/datasets/"+r.name},r.title)),(0,u.h)("dl",{"class":"metadata"},(0,u.h)("dt",{"class":"metadata-title"},c["featured-source"]),"  ",(0,u.h)("dd",{"class":"metadata-description"},r.source)),(0,u.h)("p",{},r.description.slice(0,140)+"...")))}return(0,u.h)("div")}}]),t}(u.Component);t.exports=d},{"../utils":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/utils.js",preact:"preact"}],"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/Listing.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r=e("preact"),o=e("../utils"),i=e("moment-jalaali"),s=n(i),u=u||PAGE_LANG;a["default"]=function(e){var t=e.category,a=e.title,n=e.description,i=e.format,l=e.source,c=e.source_url,d=e.updated_at,p=e.name,h=t.map(function(e){return o.categoryMap[u][e]}).join(", "),f=(0,s["default"])(d).format("MMM. D, YYYY");return"fa"==u&&(f=(0,s["default"])(d).format("jYYYY/jM/jD")),(0,r.h)("li",{"class":t[0]+" list-item-vertical"},(0,r.h)("span",{"class":"type-category"},h),(0,r.h)("h5",{"class":"header-with-description"},(0,r.h)("a",{"class":"text-link",href:"/"+PAGE_LANG+"/datasets/"+p},a)),(0,r.h)("dl",{"class":"metadata"},(0,r.h)("dt",{},labels.source),": ",(0,r.h)("dd",{},(0,r.h)("a",{href:c}),l)),(0,r.h)("dl",{"class":"metadata metadata-date"},(0,r.h)("dt",{},labels["dataset-updated"]),": ",(0,r.h)("dd",{},f)),(0,r.h)("p",{"class":"width-shortened"},n),(0,r.h)("ul",{"class":"list-type-none"},(0,r.h)("li",{"class":"element-file-type"},i)))}},{"../utils":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/utils.js","moment-jalaali":"moment-jalaali",preact:"preact"}],"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/SortFilter.js":[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("preact");a["default"]=function(e){var t=e.sort,a=e.onSort;return(0,n.h)("div",{"class":"sort-filter"},(0,n.h)("span",{"class":"sort-filter-header"},labels.sort),(0,n.h)("div",{"class":"wrapper-dropdown-sort"},(0,n.h)("select",{"class":"dropdown-sm",onChange:function(e){return a(e.target.value)},value:t},(0,n.h)("option",{value:"update"},labels["sortby-option1"]),(0,n.h)("option",{value:"alphabetic"},labels["sortby-option2"]))))}},{preact:"preact"}],"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/main.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.preventDefault();var t=document.querySelector(".nav-mobile").classList;t.contains("open")||(e.stopPropagation(),t.add("open"))}function o(){document.querySelector(".nav-mobile").classList.remove("open")}function i(e){e.preventDefault();var t=document.querySelector(".dropdown-resources-options").classList;t.contains("open")||(e.stopPropagation(),t.add("open"))}function s(){document.querySelector(".dropdown-resources-options").classList.remove("open")}function u(){var e=document.getElementById("page-content");g.listen(function(t,a){var n=/^\/([a-z0-9]{2})\/datasets\/([a-z0-9._-]+)$/,r=t.pathname.match(n);if(r){var o=r[1],i=r[2];e.innerHTML='<section><div class="wrapper wrapper-content-sm wrapper-content-dataset" id="dynamic-single-dataset"></div></section>';var s=document.getElementById("nav-link-english"),u=document.getElementById("nav-link-farsi"),c=t.pathname.slice(3);s.href="/en"+c,u.href="/fa"+c,(0,l.render)((0,l.h)(h["default"],{lang:o,id:i}),document.getElementById("dynamic-single-dataset"))}else{var d="<p style='text-align: center; margin-bottom: 20em; font-size: 1em;'>Sorry, we can't seem to find the page you're looking for. Try going to the <a href='/"+PAGE_LANG+"'>homepage</a> or checkout some of our <a href='/"+PAGE_LANG+"/datasets'>datasets</a.</p>";e.innerHTML='<h2 style="text-align: center; margin-top: 5em; margin-bottom: .4em;">404 - Page Not Found</h2>'+d}});!function(e){if(e.search){var t={};e.search.slice(1).split("&").forEach(function(e){var a=e.split("=");t[a[0]]=a.slice(1).join("=").replace(/~and~/g,"&")}),void 0!==t.p&&g.replace(e.pathname.slice(0,-1)+(t.p||"")+(t.q?"?"+t.q:"")+e.hash)}}(window.location);var t=document.querySelector(".menu-hamburger");t&&t.addEventListener("click",r),document.addEventListener("click",o);var a=document.querySelector(".dropdown-sm");a&&(a.addEventListener("click",i),document.addEventListener("click",s));var n=document.getElementById("wrapper-content");n&&(0,l.render)((0,l.h)(m["default"]),n);var u=document.getElementById("wrapper-content-dataset");u&&(0,l.render)((0,l.h)(h["default"],{lang:PAGE_LANG,id:DATASET_ID}),u);var c=document.getElementById("featured-homepage");c&&(0,l.render)((0,l.h)(y["default"]),c),window.scrollTo(0,1),window.scrollTo(0,0)}var l=e("preact"),c=e("history/createBrowserHistory"),d=n(c),p=e("./components/Dataset"),h=n(p),f=e("./components/DatasetList"),m=n(f),v=e("./components/FeaturedList"),y=n(v),g=(0,d["default"])();"loading"!=document.readyState?u():document.addEventListener("DOMContentLoaded",u)},{"./components/Dataset":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/Dataset.js","./components/DatasetList":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/DatasetList.js","./components/FeaturedList":"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/components/FeaturedList.js","history/createBrowserHistory":"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/createBrowserHistory.js",preact:"preact"}],"/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/utils.js":[function(e,t,a){"use strict";function n(e){var t={};return e.forEach(function(e){t[e.lang]=e.text}),t}function r(e){if(1==e.length)return e[0].link;var t={};return e.forEach(function(e){t[e.lang]=e.link}),t[PAGE_LANG]}function o(e,t){t=t||PAGE_LANG;var a=n(e.title),r=n(e.description),o=n(e.source);return{category:e.category,title:a[t],description:r[t],period:e.period||[],source:o[t],format:e.format,updated_at:e.updated_at,name:e.name}}function i(e,t){t=t||PAGE_LANG;var a=n(e.title),o=n(e.description),i=n(e.author.name),s=n(e.maintainer),l={};return e.keywords.forEach(function(e){l[[e.lang]]=e.wordlist.join(", ")}),{category:e.category,title:a[t],url:r(e.resources[0].url),description:o[t],period:e.period||[],source:i[t],format:e.resources[0].schema.format,updated_at:e.updated_at,indexed_at:e.indexed_at,name:e.name,source_url:e.author.web,maintainer:s[t],frequency:e.frequency?u[t][e.frequency]:"",license:e.license,keywords:l[t]}}var s={fa:{population:"جمعیت",energy:"منابع طبیعی و انرژی",employment:"اشتغال و اقتصاد خانوار",women:"زنان",economics:"بخش های اقتصادی",banking:"مالی و بانکی",budget:"بودجه و هزینه های دولت",housing:"مسکن",transport:"حمل و نقل",trade:"تجارت",health:"بهداشت",education:"آموزش",crime:"جرایم و آسیب های اجتماعی",environment:"محیط زیست",communications:"ارتباطات",elections:"قوانین و انتخابات"},en:{population:"Population",energy:"Natural Resources and Energy",employment:"Employment and Household Economy",women:"Women",economics:"Economic Sectors",banking:"Banking and Finance",budget:"Budget and Government Spending",housing:"Housing",transport:"Transport",trade:"Trade",health:"Health Sector Performance",education:"Education",crime:"Crime and Social Pathology",environment:"Environment",communications:"Communications",elections:"Election and Regulations"}},u={fa:{daily:"روزانه",weekly:"هفتگی",monthly:"ماهانه",quarterly:"فصلی",yearly:"سالانه"},en:{daily:"Daily",weekly:"Weekly",monthly:"Monthly",quarterly:"Quarterly",yearly:"Yearly"}},l={};for(var c in s)l[s[c]]=c;t.exports.categoryMap=s,t.exports.invCategoryMap=l,t.exports.transformDatasetFromIndex=o,t.exports.transformDatasetFromAPI=i},{}],"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/DOMUtils.js":[function(e,t,a){"use strict";a.__esModule=!0;a.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),a.addEventListener=function(e,t,a){return e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent("on"+t,a)},a.removeEventListener=function(e,t,a){return e.removeEventListener?e.removeEventListener(t,a,!1):e.detachEvent("on"+t,a)},a.getConfirmation=function(e,t){return t(window.confirm(e))},a.supportsHistory=function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},a.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},a.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},a.isExtraneousPopstateEvent=function(e){return void 0===e.state&&navigator.userAgent.indexOf("CriOS")===-1}},{}],"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/LocationUtils.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}a.__esModule=!0,a.locationsAreEqual=a.createLocation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=e("resolve-pathname"),i=n(o),s=e("value-equal"),u=n(s),l=e("./PathUtils");a.createLocation=function(e,t,a,n){var o=void 0;"string"==typeof e?(o=(0,l.parsePath)(e),o.state=t):(o=r({},e),void 0===o.pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return a&&(o.key=a),n?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,i["default"])(o.pathname,n.pathname)):o.pathname=n.pathname:o.pathname||(o.pathname="/"),o},a.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,u["default"])(e.state,t.state)}},{"./PathUtils":"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/PathUtils.js","resolve-pathname":"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/node_modules/resolve-pathname/cjs/index.js","value-equal":"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/node_modules/value-equal/cjs/index.js"}],"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/PathUtils.js":[function(e,t,a){"use strict";a.__esModule=!0;var n=(a.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},a.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},a.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)});a.stripBasename=function(e,t){return n(e,t)?e.substr(t.length):e},a.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},a.parsePath=function(e){var t=e||"/",a="",n="",r=t.indexOf("#");r!==-1&&(n=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return o!==-1&&(a=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===a?"":a,hash:"#"===n?"":n}},a.createPath=function(e){var t=e.pathname,a=e.search,n=e.hash,r=t||"/";return a&&"?"!==a&&(r+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(r+="#"===n.charAt(0)?n:"#"+n),r}},{}],"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/createBrowserHistory.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}a.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=e("warning"),s=n(i),u=e("invariant"),l=n(u),c=e("./LocationUtils"),d=e("./PathUtils"),p=e("./createTransitionManager"),h=n(p),f=e("./DOMUtils"),m="popstate",v="hashchange",y=function(){try{return window.history.state||{}}catch(e){return{}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l["default"])(f.canUseDOM,"Browser history needs a DOM");var t=window.history,a=(0,f.supportsHistory)(),n=!(0,f.supportsPopStateOnHashChange)(),i=e.forceRefresh,u=void 0!==i&&i,p=e.getUserConfirmation,g=void 0===p?f.getConfirmation:p,b=e.keyLength,w=void 0===b?6:b,_=e.basename?(0,d.stripTrailingSlash)((0,d.addLeadingSlash)(e.basename)):"",j=function(e){var t=e||{},a=t.key,n=t.state,r=window.location,o=r.pathname,i=r.search,u=r.hash,l=o+i+u;return(0,s["default"])(!_||(0,d.hasBasename)(l,_),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+l+'" to begin with "'+_+'".'),_&&(l=(0,d.stripBasename)(l,_)),(0,c.createLocation)(l,n,a)},k=function(){return Math.random().toString(36).substr(2,w)},E=(0,h["default"])(),P=function(e){o(R,e),R.length=t.length,E.notifyListeners(R.location,R.action)},L=function(e){(0,f.isExtraneousPopstateEvent)(e)||S(j(e.state))},A=function(){S(j(y()))},O=!1,S=function(e){if(O)O=!1,P();else{var t="POP";E.confirmTransitionTo(e,t,g,function(a){a?P({action:t,location:e}):x(e)})}},x=function(e){var t=R.location,a=M.indexOf(t.key);a===-1&&(a=0);var n=M.indexOf(e.key);n===-1&&(n=0);var r=a-n;r&&(O=!0,G(r))},D=j(y()),M=[D.key],C=function(e){return _+(0,d.createPath)(e)},T=function(e,n){(0,s["default"])(!("object"===("undefined"==typeof e?"undefined":r(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o="PUSH",i=(0,c.createLocation)(e,n,k(),R.location);E.confirmTransitionTo(i,o,g,function(e){if(e){var n=C(i),r=i.key,l=i.state;if(a)if(t.pushState({key:r,state:l},null,n),u)window.location.href=n;else{var c=M.indexOf(R.location.key),d=M.slice(0,c===-1?0:c+1);d.push(i.key),M=d,P({action:o,location:i})}else(0,s["default"])(void 0===l,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=n}})},F=function(e,n){(0,s["default"])(!("object"===("undefined"==typeof e?"undefined":r(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o="REPLACE",i=(0,c.createLocation)(e,n,k(),R.location);E.confirmTransitionTo(i,o,g,function(e){if(e){var n=C(i),r=i.key,l=i.state;if(a)if(t.replaceState({key:r,state:l},null,n),u)window.location.replace(n);else{var c=M.indexOf(R.location.key);c!==-1&&(M[c]=i.key),P({action:o,location:i})}else(0,s["default"])(void 0===l,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(n)}})},G=function(e){t.go(e)},U=function(){return G(-1)},q=function(){return G(1)},I=0,Y=function(e){I+=e,1===I?((0,f.addEventListener)(window,m,L),n&&(0,f.addEventListener)(window,v,A)):0===I&&((0,f.removeEventListener)(window,m,L),n&&(0,f.removeEventListener)(window,v,A))},B=!1,N=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=E.setPrompt(e);return B||(Y(1),B=!0),function(){return B&&(B=!1,Y(-1)),t()}},H=function(e){var t=E.appendListener(e);return Y(1),function(){Y(-1),t()}},R={length:t.length,action:"POP",location:D,createHref:C,push:T,replace:F,go:G,goBack:U,goForward:q,block:N,listen:H};return R};a["default"]=g},{"./DOMUtils":"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/DOMUtils.js","./LocationUtils":"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/LocationUtils.js",
"./PathUtils":"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/PathUtils.js","./createTransitionManager":"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/createTransitionManager.js",invariant:"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/node_modules/invariant/browser.js",warning:"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/node_modules/warning/browser.js"}],"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/createTransitionManager.js":[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}a.__esModule=!0;var r=e("warning"),o=n(r),i=function(){var e=null,t=function(t){return(0,o["default"])(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},a=function(t,a,n,r){if(null!=e){var i="function"==typeof e?e(t,a):e;"string"==typeof i?"function"==typeof n?n(i,r):((0,o["default"])(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(i!==!1)}else r(!0)},n=[],r=function(e){var t=!0,a=function(){t&&e.apply(void 0,arguments)};return n.push(a),function(){t=!1,n=n.filter(function(e){return e!==a})}},i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];n.forEach(function(e){return e.apply(void 0,t)})};return{setPrompt:t,confirmTransitionTo:a,appendListener:r,notifyListeners:i}};a["default"]=i},{warning:"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/node_modules/warning/browser.js"}],"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/node_modules/invariant/browser.js":[function(e,t,a){"use strict";var n=function(e,t,a,n,r,o,i,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[a,n,r,o,i,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=n},{}],"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/node_modules/resolve-pathname/cjs/index.js":[function(e,t,a){"use strict";function n(e){return"/"===e.charAt(0)}function r(e,t){for(var a=t,n=a+1,r=e.length;n<r;a+=1,n+=1)e[a]=e[n];e.pop()}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&n(e),s=t&&n(t),u=i||s;if(e&&n(e)?o=a:a.length&&(o.pop(),o=o.concat(a)),!o.length)return"/";var l=void 0;if(o.length){var c=o[o.length-1];l="."===c||".."===c||""===c}else l=!1;for(var d=0,p=o.length;p>=0;p--){var h=o[p];"."===h?r(o,p):".."===h?(r(o,p),d++):d&&(r(o,p),d--)}if(!u)for(;d--;d)o.unshift("..");!u||""===o[0]||o[0]&&n(o[0])||o.unshift("");var f=o.join("/");return l&&"/"!==f.substr(-1)&&(f+="/"),f}a.__esModule=!0,a["default"]=o,t.exports=a["default"]},{}],"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/node_modules/value-equal/cjs/index.js":[function(e,t,a){"use strict";function n(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,a){return n(e,t[a])});var a="undefined"==typeof e?"undefined":r(e),o="undefined"==typeof t?"undefined":r(t);if(a!==o)return!1;if("object"===a){var i=e.valueOf(),s=t.valueOf();if(i!==e||s!==t)return n(i,s);var u=Object.keys(e),l=Object.keys(t);return u.length===l.length&&u.every(function(a){return n(e[a],t[a])})}return!1}a.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a["default"]=n,t.exports=a["default"]},{}],"/home/travis/build/iranopendata/iranopendata.github.io/node_modules/history/node_modules/warning/browser.js":[function(e,t,a){"use strict";var n=function(){};t.exports=n},{}]},{},["/home/travis/build/iranopendata/iranopendata.github.io/app/assets/scripts/main.js"]);